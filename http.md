# HTTP

## Request Header

クライアントからサーバーに送信されるヘッダー

### Host

一部のWebサーバーは複数のWebサイトをホストしているため、ホストヘッダーを指定することで、必要なWebサイトを指定できる。
そうでない場合は、サーバーのデフォルトのWebサイトを受け取るだけ。

### User Agent

これはブラウザソフトウェアとバージョン番号であり、ブラウザソフトウェアがブラウザに合わせてWebサイトを適切にフォーマットするのに役立ち、HTML、JavaScript、CSSの一部の要素は特定のブラウザでのみ使用できることをWebサーバーに通知する。

### Content-Length

フォームなどでデータをWebサーバーに送信する場合、コンテンツの長さはWebサーバーにWeb要求で予想されるデータの量を通知する。
このようにして、サーバーはデータが欠落していないことを確認できる。

### Accept-Encoding

インターネット経由で送信するためにデータを小さくできるように、ブラウザがサポートする圧縮方法のタイプをWebサーバーに通知する。

### Cookie

情報を記憶するためにサーバーに送信されるデータ。

## Response Header

リクエスト後にサーバーからクライアントに返されるヘッダー

### Set-Cookie

リクエストごとにWebサーバーに返送される保存する情報。

### Cache-Control

応答のコンテンツをブラウザのキャッシュに保存してから、再度要求するまでの時間

### Content-Type

返されるデータのタイプ(HTML, CSS, JavaScript, Images, PDF, Videoなど)をクライアントに通知する。
content-typeヘッダーを使用すると、ブラウザーはデータの処理方法を認識する。

### コンテンツエンコーディング

インターネット経由で送信するときにデータを圧縮して小さくするために使用された方法。

## Status Code

### 100-199 Information Response

これらは、要求の最初の部分が受け入れられたことをクライアントに通知するために送信され、残りの要求を送信し続ける必要がある。
これらのコードはもはやあまり一般的ではない。

### 200-299 Success

この範囲のステータスコードは、クライアントに要求が成功したことを通知するために使用される。

### 300-399 Redirect

これらは、クライアントの要求を別のリソースにリダイレクトするために使用される。これは、別のWebページまたはまったく別のWebサイトのいずれかになる。

### 400-499 Client Errors

リクエストにエラーがあったことをクライアントに通知するために使用される。

### 500-599 Server Errors

これはサーバー側で発生するエラーのために予約されており、通常、サーバーが要求を処理する際の非常に大きな問題を示している。

## 一般的なステータスコード

- 200 (OK) : リクエストは正常に完了
- 201 (Created) : リソースの作成が正常に完了
- 301 (Permanent Redirect) : クライアントのブラウザが新しいWebページにリダイレクトされるか、ページが別の場所に移動したことを検索エンジンに通知し、代わりにそこを検索する
- 302 (Temporary Redirect) : 上記の永続的なリダイレクトと同様だが、名前が示すように、これは一時的な変更であり、近い将来再び変更される可能性がある
- 400 (Bad Request) : ブラウザにリクエストに何かが間違っているか欠落していることを通知する。これは、要求されているWebサーバーリソースが、クライアントが送信しなかった特定のパラメーターを予期している場合に使用される。
- 401 (Not Authorised) : Webアプリケーション、最も一般的にはユーザー名とパスワードを使用して承認するまで、このリソースを表示することは許可されていない
- 403 (Forbidden) : ログインしているかどうかに関係なく、このリソースを表示する権限がない
- 404 (Page Not Found) : リクエストしたページ / リソースが存在しない
- 405 (Method Not Allowed) : リソースはこのメソッドリクエストを許可しない。たとえば、POSTリクエストを予期していたときに、リソース/ create-accountにGETリクエストを送信する。
- 500 (Internal Service Error) : サーバーは、適切に処理する方法がわからないというリクエストで、ある種のエラーを検出する
- 503 (Service Unavailable) : このサーバーは、メンテナンスのために過負荷またはダウンしているため、リクエストを処理できない

## Cookie

コンピュータに保存されている単なる小さなデータ。

Webサーバーから`Set-Cookie`ヘッダーを受信すると、Cookieが保存される。
その後、さらにリクエストを行うたびに、CookieデータをWebサーバーに送り返す。

HTTPはステートレスであるため(以前のリクエストを追跡しない)、Cookieを使用して、Webサーバーにユーザー、Webサイトの個人設定、または以前にWebサイトにアクセスしたことがあるかどうかを通知できる。

![cookie_flow.png](https://static-labs.tryhackme.cloud/sites/howhttpworks/cookie_flow.png)

Cookieはさまざまな目的に使用できるが、最も一般的にはWebサイトの認証に使用される。
Cookieの値は通常、パスワードを確認できるクリアテキストの文字列ではなく、トークンである。

